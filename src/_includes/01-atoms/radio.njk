{# ┌─────────────────────────────────────────────────────────┐
   │ ATOM › Radio                                            │
   │ Radio button groups with grid layout                    │
   └─────────────────────────────────────────────────────────┘ #}

{#
  Props:
    - option.name (string): Radio group identifier
    - option.datas (array): Radio configuration data
    - option.disabled (boolean): Override disabled state
  
  Usage:
    {% from "01-atoms/radio.njk" import renderRadio %}
    
    {{ renderRadio({ 
        name: "nature_request",
        datas: atoms.radio.radios
    }) }}
  
  Features:
    - Fieldset/legend for semantic grouping
    - Grid layout for options
    - Required field indicator
    - Individual option selection state
  
  Accessibility:
    - Proper fieldset/legend structure
    - Required attribute support
    - Disabled state handling
    - Label association with inputs
  
  @created 2025-01-15
#}

{% macro renderRadio(option) %}
  {# Check if datas is provided #}
  {% if not option.datas %}
    <span>Error: No radio configuration provided</span>
  {% else %}
    {# Retrieve radio configuration #}
    {% set radiosConfig = option.datas %}
    {% set radioName = option.name %}
    
    {# Find the specific radio group by name #}
    {% set radioData = null %}
    {% for radio in radiosConfig %}
      {% if radio.name == radioName %}
        {% set radioData = radio %}
      {% endif %}
    {% endfor %}

    {# Fallback if radio not found #}
    {% if not radioData %}
      <span>Radio group not found: {{ radioName }}</span>
    {% else %}
      {# Radio group container with fieldset for better accessibility #}
      <fieldset class="">
        {# Group label/question as legend #}
        {% if radioData.label %}
          <legend class="">
            {{ radioData.label }}
            {% if radioData.required %}<span class="">*</span>{% endif %}
          </legend>
        {% endif %}
        
        {# Grid container for options #}
        <div class="">
          {% for radioOption in radioData.options %}
            <label for="{{ radioName }}_{{ radioOption.id }}" class="radio-option">
              <input 
                type="radio"
                id="{{ radioName }}_{{ radioOption.id }}"
                name="{{ radioData.name }}"
                value="{{ radioOption.value }}"
                class=""
                {% if radioOption.selected %}checked{% endif %}
                {% if radioData.required %}required{% endif %}
                {% if option.disabled %}disabled{% endif %}
              />
              <span class=""></span>
              <span class="">{{ radioOption.text }}</span>
            </label>
          {% endfor %}
        </div>
      </fieldset>
    {% endif %}
  {% endif %}
{% endmacro %}

{#
============================
Summon HAT Components Wisely
============================

May your bugs be forever exiled to the shadow realm. ✦
#}