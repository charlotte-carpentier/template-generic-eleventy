{# ===========================================================
   @ATOM - RADIO
   - Creates radio button groups with grid layout
=========================================================== #}

{% macro renderRadio(option) %}
  {# Check if datas is provided #}
  {% if not option.datas %}
    <span>Error: No radio configuration provided</span>
  {% else %}
    {# Retrieve radio configuration #}
    {% set radiosConfig = option.datas %}
    {% set radioName = option.name %}
    
    {# Find the specific radio group by name #}
    {% set radioData = null %}
    {% for radio in radiosConfig %}
      {% if radio.name == radioName %}
        {% set radioData = radio %}
      {% endif %}
    {% endfor %}

    {# Fallback if radio not found #}
    {% if not radioData %}
      <span>Radio group not found: {{ radioName }}</span>
    {% else %}
      {# Radio group container with fieldset for better accessibility #}
      <fieldset class="">
        {# Group label/question as legend #}
        {% if radioData.label %}
          <legend class="">
            {{ radioData.label }}
            {% if radioData.required %}<span class="">*</span>{% endif %}
          </legend>
        {% endif %}
        
        {# Grid container for options #}
        <div class="">
          {% for radioOption in radioData.options %}
            <label for="{{ radioName }}_{{ radioOption.id }}" class="radio-option">
              <input 
                type="radio"
                id="{{ radioName }}_{{ radioOption.id }}"
                name="{{ radioData.name }}"
                value="{{ radioOption.value }}"
                class=""
                {% if radioOption.selected %}checked{% endif %}
                {% if radioData.required %}required{% endif %}
                {% if option.disabled %}disabled{% endif %}
              />
              <span class=""></span>
              <span class="">{{ radioOption.text }}</span>
            </label>
          {% endfor %}
        </div>
      </fieldset>
    {% endif %}
  {% endif %}
{% endmacro %}

{# ===========================================================
   Summon HAT Components Wisely
-----------------------------------------------------------
1. Import the macro at the top of your page
{% from "01-atoms/radio.njk" import renderRadio %}

2. Call a specific radio group by its name
{{ renderRadio({ 
    name: "nature_request",
    datas: atoms.radio.radios
}) }}

May your bugs be forever exiled to the shadow realm. üßô‚Äç‚ôÇÔ∏è‚ú®
=========================================================== #}