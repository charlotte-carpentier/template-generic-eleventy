{# ┌─────────────────────────────────────────────────────────┐
   │ ATOM › Vector                                           │
   │ SVG logos and branding with layout variants             │
   └─────────────────────────────────────────────────────────┘ #}

{#
  Props:
    - options.name (string): Vector identifier
    - options.datas (array): Vector configuration data
    - options.className (string): Additional CSS classes

  Usage — Summon HAT Components Wisely:
    {% from "01-atoms/vector.njk" import renderVector %}

    {{ renderVector({
        name: "demoVector1",
        datas: atoms.vector.vectors
    }) }}

  @created 2025-01-15
#}

{% macro renderVector(options) %}

  {# ━━━━━━━━━━━━━━━━━━━━━━━━━━
    1. Validate Props
  ━━━━━━━━━━━━━━━━━━━━━━━━━━ #}
  {% if not options.datas %}
    <span class="error" role="alert">Error: Missing required prop (datas)</span>
  {% elif not options.name %}
    <span class="error" role="alert">Error: Missing required prop (name)</span>
  {% else %}
    {# Find vector using universal filter #}
    {% set vectorData = options.datas | findByName(options.name) %}

    {# Render vector or error message #}
    {% if not vectorData %}
      <span class="error" role="alert">Vector not found: {{ options.name }}</span>
    {% else %}

      {# ━━━━━━━━━━━━━━━━━━━━━━━━━━
        2. Compute Final Values
      ━━━━━━━━━━━━━━━━━━━━━━━━━━ #}
      {% set vectorVariant = vectorData.variant | default('horizontal') %}
      {% set customClasses = options.className | default('') %}
      {% set hasText = vectorData.text and vectorVariant != 'logo-only' %}

      {# ━━━━━━━━━━━━━━━━━━━━━━━━━━
        3. Tailwind Classes
        Index:
        3.1 Base Wrapper Classes
        3.2 Container Gap Classes
        3.3 Logo Size Classes
        3.4 Label Classes
      ━━━━━━━━━━━━━━━━━━━━━━━━━━ #}

      {# --------------------------
          3.1 Base Wrapper Classes
          Description: Layout
      -------------------------- #}
      {% set baseContainerClasses = "inline-flex items-center" %}

      {# --------------------------
          3.2 Container Gap Classes
          Description: Spacing per variant
      -------------------------- #}
      {% set containerGapMap = {
      'horizontal': 'gap-[var(--spacing-inline-medium)] md:gap-[var(--spacing-inline-large)]',
      'logo-only': ''
    } %}
      {% set containerGap = containerGapMap[vectorVariant] or '' %}

      {# --------------------------
          3.3 Logo Size Classes
          Description: Sizing per variant
      -------------------------- #}
      {% set logoSizeMap = {
          'logo-only': 'logo-size-large flex-shrink-0',
          'horizontal': 'logo-size-small flex-shrink-0'
      } %}
      {% set logoClasses = logoSizeMap[vectorVariant] or logoSizeMap['horizontal'] %}

      {# --------------------------
          3.4 Label Classes
          Description: Typography, colors
      -------------------------- #}
      {% set textClasses = "text-[var(--color-global-contrast-light-01)] text-label leading-6 font-bold" %}

      {# ━━━━━━━━━━━━━━━━━━━━━━━━━━
        4. Render HTML
      ━━━━━━━━━━━━━━━━━━━━━━━━━━ #}
      <a
        href="/"
        class="touch-target {{ baseContainerClasses }} {{ containerGap }} {{ customClasses }}"
        data-vector-name="{{ vectorData.name }}"
        data-vector-type="vector"
        data-vector-variant="{{ vectorData.variant }}"
        aria-label="Retour à l'accueil"
      >
        <img
          class="{{ logoClasses }}"
          src="{{ vectorData.logoPath }}"
          alt="{{ vectorData.logoAlt }}"
          data-vector-logo
        />

        {% if hasText %}
          <span class="{{ textClasses }}" data-vector-text>{{ vectorData.text }}</span>
        {% endif %}
      </a>
    {% endif %}
  {% endif %}
{% endmacro %}

{#
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
May your bugs be forever exiled to the shadow realm ✦
HAT · 2026
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
#}
