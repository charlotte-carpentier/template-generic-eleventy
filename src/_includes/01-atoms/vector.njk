{# ┌─────────────────────────────────────────────────────────┐
   │ ATOM › Vector                                           │
   │ SVG logos and branding with layout variants             │
   └─────────────────────────────────────────────────────────┘ #}

{#
  Props:
    - options.name (string): Vector identifier
    - options.datas (array): Vector configuration data
    - options.className (string): Additional CSS classes

  Usage — Summon HAT Components Wisely:
    {% from "01-atoms/vector.njk" import renderVector %}

    {{ renderVector({
        name: "demoVector1",
        datas: atoms.vector.vectors
    }) }}

  @created 2025-01-15
#}

{% macro renderVector(options) %}
  {# Validate required props #}
  {% if not options.datas %}
    <span class="error" role="alert">Error: Missing required prop (datas)</span>
  {% elif not options.name %}
    <span class="error" role="alert">Error: Missing required prop (name)</span>
  {% else %}
    {# Find vector using universal filter #}
    {% set vectorData = options.datas | findByName(options.name) %}

    {# Render vector or error message #}
    {% if not vectorData %}
      <span class="error" role="alert">Vector not found: {{ options.name }}</span>
    {% else %}
      {# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
         CSS Classes - Tailwind Utilities
      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ #}
      
      {# Container classes based on variant 
         Using standards for logo containers with proper alignment #}
      {% set containerClasses = "inline-flex items-center" %}
      {% if vectorData.variant == 'horizontal' %}
        {% set containerClasses = containerClasses ~ " gap-3" %}
      {% endif %}
      
      {# Custom classes #}
      {% set customClasses = options.className | default('') %}

      {# Render vector element #}
      <div
        class="{{ containerClasses }} {{ customClasses }}"
        data-vector-name="{{ vectorData.name }}"
        data-vector-type="vector"
        data-vector-variant="{{ vectorData.variant }}"
      >
        {# Logo image - Standard sizes with proper scaling #}
        <img
          class="{% if vectorData.variant == 'logo-only' %}w-10 h-10{% else %}w-6 h-6{% endif %} flex-shrink-0"
          src="{{ vectorData.logoPath }}"
          alt="{{ vectorData.logoAlt }}"
          data-vector-logo
        />

        {# Text - Size adjusted to match logo height exactly #}
        {% if vectorData.text and vectorData.variant != 'logo-only' %}
          <span class="text-[var(--color-neutral-40)] text-2xl leading-6 font-bold" data-vector-text>{{ vectorData.text }}</span>
        {% endif %}
      </div>
    {% endif %}
  {% endif %}
{% endmacro %}

{#
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
May your bugs be forever exiled to the shadow realm ✦
Charlotte Carpentier · 2025
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
#}