{# ┌─────────────────────────────────────────────────────────┐
   │ MOLECULE › List Content                                 │
   │ Content lists with lockup items                         │
   └─────────────────────────────────────────────────────────┘ #}

{#
  Props:
    - options.id (string): List content identifier
    - options.datas (array): List content configuration data
    - options.lockupDatas (array): Lockup molecule data

  Usage — Summon HAT Components Wisely:
    {% from "02-molecules/list-content.njk" import renderListContent %}

    {{ renderListContent({
        id: "demoList1",
        datas: molecules["list-content"].listContents,
        lockupDatas: molecules.lockup.lockups
    }) }}

  @created 2025-01-15
#}

{% from "02-molecules/lockup.njk" import renderLockup %}

{% macro renderListContent(options) %}
  {# Validate required props #}
  {% if not options.datas %}
    <span class="error" role="alert">Error: Missing required prop (datas)</span>
  {% elif not options.id %}
    <span class="error" role="alert">Error: Missing required prop (id)</span>
  {% else %}
    {# Find list content using universal filter #}
    {% set listData = options.datas | findByName(options.id) %}

    {# Render or error #}
    {% if not listData %}
      <span class="error" role="alert">List content not found: {{ options.id }}</span>
    {% else %}
      <div
        data-list-content-id="{{ listData.id }}"
        data-list-content-type="list-content"
      >
        {% for item in listData.items %}
          <div data-list-content-item="true">
            {# Render lockup #}
            {{ renderLockup({
                name: item.lockupName,
                datas: options.lockupDatas
            }) }}
          </div>
        {% endfor %}
      </div>
    {% endif %}
  {% endif %}
{% endmacro %}

{#
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
May your bugs be forever exiled to the shadow realm ✦
Charlotte Carpentier · 2025
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
#}
