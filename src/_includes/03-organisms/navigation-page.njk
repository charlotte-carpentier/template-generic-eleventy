{# ┌─────────────────────────────────────────────────────────┐
   │ ORGANISM › Navigation Page                              │
   │ Main navigation component with link integration         │
   └─────────────────────────────────────────────────────────┘ #}

{#
  Usage — Summon HAT Components Wisely:
    {% from "03-organisms/navigation-page.njk" import renderNavigation %}
    {{ renderNavigation({ 
      name: "main",
      datas: organisms.navigations,
      links: atoms.links
    }) }}
  
  Props:
    - options.name (string): Navigation identifier
    - options.datas (object): Navigation configurations
    - options.links (object): Links data source
    - options.class (string): Additional CSS classes
  
  Features:
    - Auto-selects first navigation if name not found
    - Applies global styles from configuration
    - Integrates link components via data-nav-link attribute
  
  @created 2025-01-15
#}

{% from "01-atoms/link.njk" import linkComponent %}

{% macro renderNavigation(options) %}
  {% if options.datas %}
    {% set globalStyle = options.datas.globalStyle %}
    
    {% set navigationData = null %}
    {% if options.name %}
      {% for navSet in options.datas.navigations %}
        {% if navSet.name == options.name %}
          {% set navigationData = navSet %}
        {% endif %}
      {% endfor %}
    {% endif %}

    {% if not navigationData %}
      {% set navigationData = options.datas.navigations[0] %}
    {% endif %}
    
    <nav class="{{ globalStyle }} {{ options.class | default('') }}" data-nav-container>
      {% for linkName in navigationData.links %}
        {{ linkComponent({ name: linkName, datas: options.links, dataNavLink: true }) }}
      {% endfor %}
    </nav>
  {% else %}
    <span class="">Navigation data not found</span>
  {% endif %}
{% endmacro %}

{#
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
May your bugs be forever exiled to the shadow realm ✦
Charlotte Carpentier · 2025
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
#}