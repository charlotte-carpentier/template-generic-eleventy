{# ┌─────────────────────────────────────────────────────────┐
   │ ORGANISM › Footer                                       │
   │ Site footer with copyright and legal links             │
   └─────────────────────────────────────────────────────────┘ #}

{#
  Props:
    - option.name (string): Footer identifier
    - option.datas (object): Footer configuration
    - option.typographyDatas (array): Typography atom data
    - option.linkDatas (array): Links atom data
  
  Usage:
    {% from "03-organisms/footer.njk" import renderFooter %}
    
    {{ renderFooter({ 
        name: "main_footer",
        datas: organisms.footer,
        typographyDatas: atoms.typography.texts,
        linkDatas: atoms.link.links
    }) }}
  
  Features:
    - Copyright text using typography atom
    - Legal link using link atom
    - Variant-based styling
  
  Accessibility:
    - role="contentinfo" for semantic footer
  
  @created 2025-01-15
#}

{% macro renderFooter(option) %}
  {# Import atoms macros #}
  {% from "01-atoms/heading.njk" import renderTypography %}
  {% from "01-atoms/link.njk" import renderLink %}
  
  {# Check if datas is provided #}
  {% if not option.datas %}
    <span>Error: No footer configuration provided</span>
  {% else %}
    {# Retrieve footer configuration #}
    {% set footerConfig = option.datas %}
    {% set footerName = option.name %}
    
    {# Find the specific footer by name #}
    {% set footerData = footerConfig.footer %}

    {# Fallback if footer not found #}
    {% if not footerData %}
      <span>Footer not found: {{ footerName }}</span>
    {% else %}
      {# Build CSS classes #}
      {% set variant = footerData.variant | default('') %}
      {% set cssClasses = 'footer footer--' ~ variant %}
      
      {# Render the footer #}
      <footer class="{{ cssClasses }}" role="contentinfo">
        <div>
          {# Copyright text #}
          <div>
            {{ renderTypography({ 
                name: footerData.copyright.name,
                datas: option.typographyDatas
            }) }}
          </div>
          
          {# Legal link #}
          <div>
            {{ renderLink({ 
                name: footerData.legal_link.name,
                datas: option.linkDatas
            }) }}
          </div>
        </div>
      </footer>
    {% endif %}
  {% endif %}
{% endmacro %}

{#
============================
Summon HAT Components Wisely
============================

May your bugs be forever exiled to the shadow realm. ✦
#}